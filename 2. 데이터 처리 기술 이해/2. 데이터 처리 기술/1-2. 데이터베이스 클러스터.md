# 데이터베이스 클러스터

- 하나의 데이터베이스를 여러 개의 서버(or 가상 서버) 상에 구축하는 것
- 데이터베이스 파티셔닝은 DB를 여러 부분으로 분할하는 것을 의미하며, 각 파티션은 여러 노드로 분할 배치되어 여러 사용자가 각 노드에서 트랜잭션을 수행할 수 있다.
- 데이터 통합 시, **성능과 가용성의 향상을 위해 데이터베이스 차원의 파티셔닝 또는 클러스터링을 이용**한다.

## 파티셔닝 구현의 효과

- **병렬처리** : 빠른 데이터 검색 및 처리 성능
- **고가용성** : 특정 파티션에 **장애가 발생**해도 **서비스는 중단되지 않음**
- **성능향상** : 성능의 **선형적인 증가 효과**를 볼 수 있음

## 데이터베이스 클러스터 구분

- 단일 서버 내의 파티셔닝과 다중서버 사이 파티셔닝으로 구분
- 리소스 공유 관점에서는 무공유 디스크(Shared Nothing)와 공유 디스크(Shared Disk)로 구분

### 무공유 디스크

- 각 DB 인스턴스는 자신이 관리하는 데이터 파일을 자신의 로컬 디스크에 저장하며, 파일을 노드 간 공유하지 않는다.
- 각 인스턴스나 노드는 **완전히 분리된 데이터의 서브 집합에 대한 소유권을 갖고** 있으며, 각 데이터는 소유권을 가진 인스턴스가 처리한다.
- 한 노드가 데이터 처리 요청을 받으면, 해당 노드는 처리할 데이터를 갖고 있는 노드에 신호를 보내 데이터 처리를 요청한다.
- **Oracle RAC(Real Application Cluster)를 제외한 대부분의 데이터베이스 클러스터가 무공유 방식**이다.

- **장점** : 노드 확장에 제한이 없음
- **단점** : 각 노드에 장애 발생을 대비해 **별도의 폴트톨러런스(fault-tolerance)를 구성**해야 함
    - fault-tolerance : 시스템 고장 발생 시에도 기능을 기존과 같이 유지하는 기술

### 공유 디스크

- 모든 데이터베이스 인스턴스 노드들은 데이터 파일을 논리적으로 공유하며, **각 인스턴스는 모든 데이터에 접근**할 수 있다.
- 데이터를 공유하려면 **SAN(Storage Area Network)**과 같은 네트워크가 반드시 필요하다.
- **모든 노드가 데이터를 수정**할 수 있어서, 노드 간 동기화 작업 수행을 위한 별도의 커뮤니케이션 채널이 필요하다.

- **장점** : 높은 수준의 **폴트톨러런스(fault-tolerance)를 제공**하여, 클러스터 구성 노드 중 하나의 노드만 살아있어도 서비스 가능
- **단점** : 클러스터가 커지면 **디스크 영역에서 병목현상** 발생

## 데이터베이스 클러스터 종류

