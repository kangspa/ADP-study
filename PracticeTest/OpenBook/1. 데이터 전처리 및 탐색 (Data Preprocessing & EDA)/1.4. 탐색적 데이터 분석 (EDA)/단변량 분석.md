# 단변량 분석 (Univariate Analysis)

## 개념 요약

단변량 분석은 데이터 분석의 가장 기본적인 형태로, 한 번에 하나의 변수(variable)만을 독립적으로 분석하는 방법입니다. 이 분석의 주된 목적은 변수 각각의 특성과 분포를 이해하는 것입니다. 단변량 분석을 통해 데이터의 중심 경향성, 산포도, 분포 형태, 이상치 유무 등을 파악할 수 있으며, 이는 데이터 정제나 다음 단계인 이변량/다변량 분석의 기초가 됩니다. 분석 대상이 되는 변수의 종류에 따라 분석 방법이 달라집니다.

- **수치형 변수 (Numerical Variable) 분석**:
    - **기술 통계량**: `describe()` 메서드를 사용하여 평균(mean), 중앙값(median), 표준편차(std), 최소/최대값, 사분위수 등을 계산하여 데이터의 중심 경향성과 퍼진 정도를 파악합니다.
    - **분포 시각화**: 히스토그램(Histogram)이나 커널 밀도 추정(Kernel Density Estimate, KDE) 플롯을 사용하여 데이터의 분포 형태(정규분포, 치우친 분포 등)를 시각적으로 확인합니다.

- **범주형 변수 (Categorical Variable) 분석**:
    - **빈도 분석**: `value_counts()` 메서드를 사용하여 각 카테고리(범주)에 속하는 데이터의 개수(빈도)와 비율을 계산합니다.
    - **시각화**: 바 차트(Bar Chart)나 파이 차트(Pie Chart)를 사용하여 각 카테고리의 빈도를 시각적으로 비교합니다.

## 적용 가능한 상황

- **데이터 초기 탐색**: 데이터셋을 처음 접했을 때, 각 변수가 어떤 특성을 가지고 있는지 개별적으로 파악하는 첫 단계에서 필수적으로 수행됩니다.
- **데이터 품질 검증**: 각 변수의 분포나 빈도를 확인하여 예상치 못한 값이나 이상치를 발견하고, 데이터 정제의 필요성을 판단할 때.
- **피처 엔지니어링 아이디어 도출**: 변수의 분포가 특정 방향으로 심하게 치우쳐 있다면 로그 변환 등의 변수 변환을 고려하거나, 특정 카테고리의 빈도가 너무 낮다면 다른 카테고리와 통합하는 등의 아이디어를 얻을 수 있습니다.

## 구현 방법

### 예제 데이터 생성

```python
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Seaborn 내장 'titanic' 데이터셋 사용
df = sns.load_dataset('titanic')
```

### 1. 수치형 변수 분석

- **분석 대상**: `age`, `fare` (나이, 운임 요금)
- **용도**: 데이터의 중심 경향, 산포도, 분포 형태를 파악합니다.
- **코드 예시**:
  ```python
  # 1-1. 기술 통계량 확인
  print("--- Descriptive Statistics for 'age' ---")
  print(df['age'].describe())

  # 1-2. 분포 시각화 (히스토그램 + KDE)
  plt.figure(figsize=(10, 5))
  sns.histplot(df['age'].dropna(), kde=True, bins=30)
  plt.title('Distribution of Age')
  plt.axvline(df['age'].mean(), color='red', linestyle='--', label=f"Mean: {df['age'].mean():.2f}")
  plt.axvline(df['age'].median(), color='green', linestyle='-', label=f"Median: {df['age'].median():.2f}")
  plt.legend()
  plt.show()
  ```
- **결과 해석**:
  - **기술 통계량**: `age` 변수의 평균은 약 29.7세, 중앙값은 28세이며, 최소 0.42세부터 최대 80세까지 분포합니다. `count`가 전체 데이터 수보다 적으므로 결측치가 있음을 알 수 있습니다.
  - **시각화**: 히스토그램을 보면, 20-30대 승객이 가장 많고, 어린 아이들도 일부 포함되어 있으며, 전체적으로 약간 오른쪽으로 치우친 분포를 보입니다. 평균(빨간 점선)이 중앙값(녹색 실선)보다 오른쪽에 있는 것을 통해 이를 다시 확인할 수 있습니다.

### 2. 범주형 변수 분석

- **분석 대상**: `pclass`, `sex`, `embarked` (객실 등급, 성별, 탑승 항구)
- **용도**: 각 카테고리의 빈도와 비율을 파악하여 데이터의 구성을 이해합니다.
- **코드 예시**:
  ```python
  # 2-1. 빈도 분석
  print("--- Frequency of 'pclass' ---")
  print(df['pclass'].value_counts())

  print("\n--- Ratio of 'sex' ---")
  print(df['sex'].value_counts(normalize=True))

  # 2-2. 시각화 (바 차트)
  plt.figure(figsize=(12, 5))

  # pclass에 대한 countplot
  plt.subplot(1, 2, 1)
  sns.countplot(x='pclass', data=df, palette='viridis')
  plt.title('Count of Passengers by Pclass')

  # embarked에 대한 countplot
  plt.subplot(1, 2, 2)
  sns.countplot(x='embarked', data=df, palette='plasma')
  plt.title('Count of Passengers by Embarked Port')

  plt.tight_layout()
  plt.show()
  ```
- **결과 해석**:
  - **빈도 분석**: `pclass`는 3등석 승객이 가장 많음을 알 수 있습니다. `sex`는 남성 승객이 약 64.8%를 차지함을 보여줍니다. `value_counts(normalize=True)`는 각 카테고리의 비율을 계산해줍니다.
  - **시각화**: 바 차트(countplot)를 통해 각 카테고리의 빈도를 직관적으로 비교할 수 있습니다. 3등석(pclass=3) 승객이 압도적으로 많고, Southampton(embarked='S')에서 탑승한 승객이 가장 많다는 사실을 쉽게 파악할 수 있습니다.

## 장단점 및 대안

| 분석 방법 | 장점 | 단점 | 대안/보완 |
|---|---|---|---|
| **수치형 분석** | 데이터의 분포, 중심 경향, 이상치 등 핵심적인 통계 정보를 정량적으로 파악할 수 있음. | 단일 숫자(평균, 중앙값 등)만으로는 데이터의 전체적인 모습을 오해할 수 있음. | **시각화(히스토그램, 박스 플롯)와 병행**: 기술 통계량으로 요약된 정보를 시각화를 통해 확인하여 데이터 분포에 대한 완전한 이해를 돕습니다. **왜도(Skewness)와 첨도(Kurtosis)**: `df['col'].skew()`, `df['col'].kurt()`를 통해 분포의 비대칭성과 뾰족한 정도를 정량적으로 측정할 수 있습니다. |
| **범주형 분석** | 데이터의 구성을 간단하고 명확하게 파악할 수 있음. | 변수 간의 관계는 전혀 알 수 없음. | **파이 차트(Pie Chart)**: 비율을 시각화하는 데 사용될 수 있지만, 카테고리가 많아지면 가독성이 급격히 떨어져 바 차트가 더 권장됩니다. |

단변량 분석은 각 변수에 대한 깊은 이해를 제공하지만, 변수들 사이의 상호작용이나 관계를 설명하지는 못합니다. 따라서 단변량 분석을 통해 각 변수의 특성을 파악한 후에는, 필연적으로 두 개 이상의 변수를 함께 분석하는 **이변량 분석(Bivariate Analysis)** 및 **다변량 분석(Multivariate Analysis)**으로 나아가야 합니다.
