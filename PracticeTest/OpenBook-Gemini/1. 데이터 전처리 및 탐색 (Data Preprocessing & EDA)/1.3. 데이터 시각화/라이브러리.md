
# 시각화 라이브러리: Matplotlib, Seaborn

## 개념 요약

데이터 시각화는 데이터 분석의 결과를 차트나 그래프 형태로 표현하여 데이터에 숨겨진 패턴, 추세, 관계, 이상치 등을 쉽게 파악할 수 있도록 돕는 필수적인 과정입니다. Python에서는 `Matplotlib`과 `Seaborn`이 데이터 시각화의 핵심 라이브러리로 사용됩니다.

- **`Matplotlib`**: Python에서 가장 기본적이고 널리 사용되는 시각화 라이브러리입니다. 저수준(low-level) 라이브러리로, 플롯의 모든 요소를 세밀하게 제어할 수 있는 강력한 유연성을 제공합니다. 라인 플롯, 바 차트, 히스토그램, 산점도 등 거의 모든 종류의 정적(static) 2D 그래프를 만들 수 있습니다. `pyplot` 모듈이 주로 사용되며, 보통 `plt`라는 별칭으로 임포트합니다.

- **`Seaborn`**: `Matplotlib`을 기반으로 만들어진 고수준(high-level) 라이브러리입니다. 더 적은 코드로 더 아름답고 통계적으로 의미 있는 그래프를 그릴 수 있도록 설계되었습니다. 특히, `Pandas` 데이터프레임과 매우 잘 호환되며, `hue`, `col`, `row`와 같은 인자를 통해 복잡한 조건에 따른 다차원적인 데이터를 시각화하는 데 매우 강력합니다. 보통 `sns`라는 별칭으로 임포트합니다.

## 적용 가능한 상황

- **`Matplotlib`**: 
    - 그래프의 모든 세부 요소(축 레이블, 제목, 색상, 선 스타일, 범례 위치 등)를 직접 제어해야 하는 맞춤형 시각화가 필요할 때.
    - 여러 개의 그래프를 하나의 그림(figure) 안에 자유롭게 배치(subplot)하고 싶을 때.
    - 기본적인 플롯을 빠르고 간단하게 생성하고 싶을 때.
    - 다른 라이브러리가 제공하지 않는 특정 유형의 복잡한 시각화를 구현해야 할 때.

- **`Seaborn`**: 
    - 통계적 관계(회귀선, 신뢰구간 등)를 포함한 시각화를 손쉽게 구현하고 싶을 때.
    - 범주형 데이터에 따른 분포(박스 플롯, 바이올린 플롯, 카운트 플롯 등)를 그리고 싶을 때.
    - 데이터프레임의 여러 변수 간의 관계를 한 번에 보여주는 `pairplot`이나 `heatmap`을 그리고 싶을 때.
    - 더 미려하고 세련된 디자인의 그래프를 기본 설정으로 사용하고 싶을 때.

**관계**: `Seaborn`은 `Matplotlib` 위에서 동작하므로, `Seaborn`으로 그린 그래프도 `Matplotlib`의 함수(`plt.title()`, `plt.xlabel()`)를 사용하여 세부 요소를 추가적으로 커스터마이징할 수 있습니다.

## 구현 방법

### 예제 데이터 생성

```python
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd
import numpy as np

# Seaborn에 내장된 'tips' 데이터셋 사용
tips = sns.load_dataset('tips')

# Matplotlib을 위한 데이터
x = np.linspace(0, 10, 100)
y = np.sin(x)
```

### 1. `Matplotlib`

- **용도**: 기본적인 그래프를 생성하고 세밀하게 제어합니다.
- **구조**: `Figure`라는 전체 그림판 위에 하나 이상의 `Axes` (실제 그래프가 그려지는 영역, 서브플롯)를 만들고, 그 위에 플롯과 각종 요소들을 추가하는 객체 지향 스타일을 사용하는 것이 좋습니다.
- **코드 예시**:
  ```python
  # 1. Figure와 Axes 생성
  fig, ax = plt.subplots(figsize=(7, 5))

  # 2. Axes에 플롯 그리기
  ax.plot(x, y, label='sin(x)', color='blue', linestyle='--', marker='o', markersize=2)

  # 3. 그래프 요소 추가
  ax.set_title('Sine Wave', fontsize=16)
  ax.set_xlabel('X-axis', fontsize=12)
  ax.set_ylabel('Y-axis', fontsize=12)
  ax.set_xlim(0, 10)
  ax.set_ylim(-1.5, 1.5)
  ax.grid(True)
  ax.legend()

  # 4. 그래프 보여주기
  plt.show()
  ```
- **결과 해석**: `plt.subplots()`로 생성된 `ax` 객체의 다양한 메서드(`.plot`, `.set_title`, `.set_xlabel` 등)를 호출하여 그래프의 모든 부분을 명시적으로 설정합니다. 이를 통해 완전한 제어권을 가질 수 있습니다.

### 2. `Seaborn`

- **용도**: 통계적 정보가 포함된 미려한 그래프를 간단하게 생성합니다.
- **주의사항**: `Seaborn` 함수는 대부분 `ax` 객체를 반환하므로, `Matplotlib`과 쉽게 통합하여 사용할 수 있습니다. 데이터프레임과 열 이름을 직접 인자로 전달하는 방식이 매우 편리합니다.
- **코드 예시**:
  ```python
  # 관계형 플롯 (relplot): 산점도와 선 그래프
  # 성별(sex)에 따라 색상을, 흡연여부(smoker)에 따라 마커 스타일을 다르게 표시
  sns.relplot(x="total_bill", y="tip", hue="sex", style="smoker", data=tips)
  plt.title('Total Bill vs Tip')
  plt.show()

  # 분포 플롯 (displot): 히스토그램, KDE, ECDF 등
  # 요일(day)별로 다른 그래프를 그리고, 성별(sex)에 따라 색상을 다르게 표시
  sns.displot(data=tips, x="total_bill", hue="sex", col="day", kind="kde", col_wrap=2)
  plt.show()

  # 범주형 플롯 (catplot): 박스 플롯, 바이올린 플롯, 스트립 플롯 등
  # 요일(day)에 따른 팁(tip)의 분포를 박스 플롯으로 시각화
  sns.catplot(x="day", y="tip", kind="box", data=tips)
  plt.title('Tip Distribution by Day')
  plt.show()
  ```
- **결과 해석**:
  - `relplot`: `total_bill`과 `tip`의 관계를 산점도로 보여주면서, `hue`와 `style` 인자를 통해 성별과 흡연여부라는 두 개의 추가적인 차원을 색상과 마커 모양으로 표현합니다.
  - `displot`: `total_bill`의 분포를 커널 밀도 추정(KDE) 곡선으로 보여주되, `col` 인자를 통해 요일별로 다른 서브플롯을 그리고, `hue`를 통해 각 플롯 안에서 성별에 따른 분포를 비교합니다.
  - `catplot`: `kind="box"`를 통해 요일별 팁의 분포를 박스 플롯으로 간결하게 요약하여 보여줍니다.
  - 이처럼 `Seaborn`은 단 한 줄의 코드로 복잡한 조건에 따른 다차원적인 시각화를 가능하게 합니다.

## 장단점 및 대안

| 라이브러리 | 장점 | 단점 | 대안 |
|---|---|---|---|
| **`Matplotlib`** | 거의 모든 종류의 2D 플롯을 만들 수 있음. 플롯의 모든 요소를 완벽하게 제어 가능. 가장 기본이 되는 라이브러리로, 생태계가 매우 넓고 자료가 풍부함. | 코드가 상대적으로 길고 복잡해질 수 있음. 기본 디자인이 미려하지 않음. 통계적 시각화 기능이 내장되어 있지 않음. | `Seaborn` (통계적 시각화), `Plotly` (인터랙티브 시각화). |
| **`Seaborn`** | `Matplotlib`보다 적은 코드로 더 아름답고 통계적인 그래프를 생성. `Pandas` 데이터프레임과 완벽하게 호환됨. 복잡한 다차원 데이터 시각화에 매우 강력함. | `Matplotlib`만큼의 완벽한 커스터마이징 유연성은 부족할 수 있음. `Matplotlib`에 대한 기본적인 이해가 필요함. | `plotnine` (R의 `ggplot2` 문법을 Python으로 구현), `Altair` (선언적 시각화 라이브러리). |

**기타 시각화 라이브러리**

- **`Plotly`**: 마우스를 올리면 정보가 표시(hover)되거나, 특정 부분을 확대/축소(zoom)할 수 있는 **인터랙티브(interactive)** 웹 기반 그래프를 만드는 데 특화된 라이브러리입니다. 대시보드 제작 등에 매우 유용합니다.
- **`Bokeh`**: `Plotly`와 유사하게 인터랙티브 시각화를 위한 라이브러리입니다. 대규모 데이터셋의 스트리밍 시각화에 강점이 있습니다.
- **`Folium`**: `Leaflet.js`를 기반으로 하여, 지도 위에 데이터를 시각화하는 데 특화된 라이브러리입니다.
