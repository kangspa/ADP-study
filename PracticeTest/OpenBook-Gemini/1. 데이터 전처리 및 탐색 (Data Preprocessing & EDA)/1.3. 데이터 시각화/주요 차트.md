
# 주요 차트: Line, Bar, Scatter, Histogram, Box Plot, Heatmap, Pair Plot

## 개념 요약

데이터 시각화에는 분석의 목적과 데이터의 종류에 따라 사용되는 다양한 종류의 차트가 있습니다. 각 차트의 특징과 용도를 이해하는 것은 데이터를 효과적으로 탐색하고 인사이트를 전달하는 데 필수적입니다.

- **라인 플롯 (Line Plot)**: 시간의 흐름이나 순서에 따른 데이터의 변화 추세를 보여주는 데 사용됩니다. (e.g., 주가 변동, 월별 매출액)
- **바 차트 (Bar Chart)**: 범주형 데이터의 각 항목에 대한 값(크기, 빈도)을 막대의 길이로 비교하여 보여줍니다. (e.g., 국가별 인구, 상품별 판매량)
- **산점도 (Scatter Plot)**: 두 수치형 변수 간의 관계(상관관계, 분포, 군집 등)를 파악하기 위해 각 데이터 포인트를 2차원 평면에 점으로 나타냅니다.
- **히스토그램 (Histogram)**: 하나의 수치형 변수의 분포를 파악하기 위해, 데이터의 범위를 여러 구간(bin)으로 나누고 각 구간에 속하는 데이터의 빈도를 막대로 나타냅니다.
- **박스 플롯 (Box Plot)**: 하나의 수치형 변수의 분포를 사분위수(최소값, 1사분위수, 중앙값, 3사분위수, 최대값)를 이용하여 요약하고, 이상치를 탐지하는 데 사용됩니다. 여러 그룹 간의 분포를 비교하는 데 매우 효과적입니다.
- **히트맵 (Heatmap)**: 2차원 행렬 형태의 데이터에서 각 셀의 값을 색상의 농도로 표현하는 시각화 방법입니다. 변수 간의 상관계수 행렬이나 혼동 행렬(confusion matrix)을 시각화하는 데 주로 사용됩니다.
- **페어 플롯 (Pair Plot)**: 데이터프레임에 있는 여러 수치형 변수들에 대해, 모든 변수 쌍 간의 산점도(off-diagonal)와 각 변수 자체의 분포(diagonal, 보통 히스토그램이나 KDE)를 한 번에 그려주는 강력한 탐색적 분석 도구입니다.

## 구현 방법

### 예제 데이터 생성

```python
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd
import numpy as np

# Seaborn 내장 데이터셋 로드
tips = sns.load_dataset('tips')
iris = sns.load_dataset('iris')

# 라인 플롯을 위한 시계열 데이터 생성
time_series = pd.DataFrame({
    'date': pd.to_datetime(pd.date_range('2023-01-01', periods=12, freq='M')),
    'sales': np.random.randint(100, 500, size=12)
})
```

### 1. 라인 플롯 (Line Plot)
- **용도**: 시간/순서에 따른 데이터 변화 추세 확인.
- **코드 예시** (`seaborn.lineplot`):
  ```python
  plt.figure(figsize=(8, 4))
  sns.lineplot(x='date', y='sales', data=time_series, marker='o')
  plt.title('Monthly Sales Trend')
  plt.xticks(rotation=45)
  plt.show()
  ```

### 2. 바 차트 (Bar Chart)
- **용도**: 범주별 데이터 크기 비교.
- **코드 예시** (`seaborn.barplot`):
  ```python
  plt.figure(figsize=(8, 5))
  # barplot은 기본적으로 각 범주에 대한 평균값(추정치)과 신뢰구간을 보여줌
  sns.barplot(x='day', y='total_bill', data=tips, palette='viridis')
  plt.title('Average Total Bill by Day')
  plt.show()

  # 단순히 빈도를 세고 싶을 때는 countplot 사용
  sns.countplot(x='day', data=tips, palette='pastel')
  plt.title('Count of Records by Day')
  plt.show()
  ```

### 3. 산점도 (Scatter Plot)
- **용도**: 두 수치형 변수 간의 관계 파악.
- **코드 예시** (`seaborn.scatterplot`):
  ```python
  plt.figure(figsize=(8, 6))
  sns.scatterplot(x='total_bill', y='tip', hue='time', size='size', data=tips, alpha=0.7)
  plt.title('Total Bill vs Tip')
  plt.show()
  ```
- **해석**: `total_bill`이 증가할수록 `tip`도 증가하는 양의 상관관계를 보입니다. `hue`로 점심/저녁을, `size`로 인원수를 추가하여 다차원적인 정보를 표현할 수 있습니다.

### 4. 히스토그램 (Histogram)
- **용도**: 단일 수치형 변수의 분포(빈도) 확인.
- **코드 예시** (`seaborn.histplot`):
  ```python
  plt.figure(figsize=(8, 5))
  sns.histplot(tips['total_bill'], bins=20, kde=True) # kde=True는 밀도 곡선을 함께 표시
  plt.title('Distribution of Total Bill')
  plt.show()
  ```
- **해석**: `total_bill` 데이터는 10~20달러 사이에 가장 많이 분포하며, 오른쪽으로 긴 꼬리를 갖는(right-skewed) 분포를 보입니다.

### 5. 박스 플롯 (Box Plot)
- **용도**: 데이터 분포 요약 및 그룹 간 분포 비교.
- **코드 예시** (`seaborn.boxplot`):
  ```python
  plt.figure(figsize=(8, 5))
  sns.boxplot(x='day', y='total_bill', hue='smoker', data=tips)
  plt.title('Total Bill Distribution by Day and Smoker')
  plt.show()
  ```
- **해석**: 주말(Sat, Sun)에 계산 금액이 평일보다 높은 경향이 있습니다. 각 요일별로 흡연자와 비흡연자의 계산 금액 분포를 비교할 수 있습니다.

### 6. 히트맵 (Heatmap)
- **용도**: 2D 행렬 데이터의 값 시각화 (상관계수, 혼동 행렬 등).
- **코드 예시** (`seaborn.heatmap`):
  ```python
  # iris 데이터의 수치형 변수 간 상관계수 계산
  corr = iris[['sepal_length', 'sepal_width', 'petal_length', 'petal_width']].corr()

  plt.figure(figsize=(8, 6))
  sns.heatmap(corr, annot=True, cmap='coolwarm', fmt='.2f', linewidths=.5)
  plt.title('Correlation Matrix of Iris Features')
  plt.show()
  ```
- **해석**: `petal_length`와 `petal_width`는 0.96으로 매우 강한 양의 상관관계를, `sepal_width`와 `petal_length`는 -0.43으로 음의 상관관계를 보입니다. `annot=True`는 각 셀에 값을 표시하는 옵션입니다.

### 7. 페어 플롯 (Pair Plot)
- **용도**: 여러 변수 쌍 간의 관계를 한 번에 탐색.
- **코드 예시** (`seaborn.pairplot`):
  ```python
  # hue='species'를 통해 품종별로 색상을 다르게 표시
  sns.pairplot(iris, hue='species', palette='husl', markers=['o', 's', 'D'])
  plt.suptitle('Pair Plot of Iris Dataset', y=1.02)
  plt.show()
  ```
- **해석**: 대각선(diagonal)에는 각 변수의 분포(KDE)가, 그 외의 칸(off-diagonal)에는 두 변수 간의 산점도가 그려집니다. `petal_length`와 `petal_width`의 산점도를 보면, 품종(species)에 따라 명확하게 군집이 형성되는 것을 한눈에 파악할 수 있습니다. 이는 이 두 변수가 품종을 분류하는 데 매우 중요한 역할을 할 것임을 시사합니다.
